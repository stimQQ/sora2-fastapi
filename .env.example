# Application Settings
APP_NAME="Video Animation Platform"
APP_VERSION="1.0.0"
ENVIRONMENT=development  # development, staging, production
DEBUG=true
# Generate using: python -c "import secrets; print(secrets.token_urlsafe(48))"
SECRET_KEY=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-MINIMUM-32-CHARACTERS

# API Keys (IMPORTANT: Never commit real keys to version control!)
# Generate PROXY_API_KEY using: python -c "import secrets; print(secrets.token_urlsafe(32))"
QWEN_VIDEO_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
PROXY_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# API Base URL (for Celery worker callbacks)
# Local: http://localhost:8000
# Docker: http://api:8000
# Production: https://api.yourdomain.com
API_BASE_URL=http://localhost:8000

# DashScope API Configuration
DASHSCOPE_API_URL=https://dashscope.aliyuncs.com/api/v1

# Sora 2 API Configuration
SORA_API_KEY=your-sora-api-key
SORA_API_URL=https://api.kie.ai/api/v1
SORA_CALLBACK_URL=https://yourdomain.com/api/videos/sora/callback

# Database Configuration (PostgreSQL - Aliyun RDS)
# Master - Write Operations
DATABASE_URL_MASTER=postgresql+asyncpg://user:password@your-aliyun-rds-host:5432/video_animation

# Slaves - Read Operations (comma-separated, optional for read replicas)
# If no slaves, master will be used for reads too
DATABASE_URL_SLAVES=postgresql+asyncpg://user:password@your-aliyun-rds-slave1:5432/video_animation

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Storage Configuration
STORAGE_BACKEND=oss  # oss, s3, or local

# Aliyun OSS Configuration
ALIYUN_OSS_ACCESS_KEY=your-oss-access-key
ALIYUN_OSS_SECRET_KEY=your-oss-secret-key
ALIYUN_OSS_BUCKET=your-bucket-name
ALIYUN_OSS_ENDPOINT=https://oss-cn-beijing.aliyuncs.com
ALIYUN_OSS_REGION=cn-beijing

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-s3-bucket
AWS_S3_REGION=ap-southeast-1

# Authentication Providers
AUTH_PROVIDERS_ENABLED=wechat,google

# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-key-minimum-32-characters
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# WeChat OAuth Configuration
WECHAT_APP_ID=your-wechat-app-id
WECHAT_APP_SECRET=your-wechat-app-secret
WECHAT_REDIRECT_URI=https://yourdomain.com/api/auth/wechat/callback

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://yourdomain.com/api/auth/google/callback

# Payment Providers
PAYMENT_PROVIDERS_ENABLED=wechat_pay,stripe

# WeChat Pay Configuration
WECHAT_PAY_APP_ID=your-wechat-pay-app-id
WECHAT_PAY_MERCHANT_ID=your-merchant-id
WECHAT_PAY_API_KEY=your-api-key-32-characters
WECHAT_PAY_CERT_PATH=/path/to/apiclient_cert.pem
WECHAT_PAY_KEY_PATH=/path/to/apiclient_key.pem
WECHAT_PAY_NOTIFY_URL=https://yourdomain.com/api/payments/wechat/webhook

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_WEBHOOK_URL=https://yourdomain.com/api/payments/stripe/webhook

# CORS Configuration (comma-separated origins)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Region Detection
GEOIP_DATABASE_PATH=/app/data/GeoLite2-City.mmdb
DEFAULT_REGION=CN
SUPPORTED_REGIONS=CN,US,EU,ASIA

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute

# File Upload Settings
MAX_UPLOAD_SIZE=104857600  # 100MB in bytes

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text
LOG_FILE_PATH=/app/logs/app.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
SENTRY_DSN=

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# Credits System - Updated 2025-09-30
# New users start with 100 credits (changed from 10)
DEFAULT_USER_CREDITS=100

# Video Generation Pricing (per second)
CREDITS_PER_SECOND_STANDARD=10  # Standard mode: 10 credits/second
CREDITS_PER_SECOND_PRO=14  # Pro mode: 14 credits/second

# Credit Value
CREDIT_VALUE_RMB=0.1  # 1 credit = ¥0.1 RMB

# Credit Expiry
CREDIT_EXPIRY_MONTHS=6  # Credits expire after 6 months

# Credit Rewards
CREDITS_INVITE_REWARD=100  # Invite friend reward
CREDITS_DAILY_SIGNIN=10  # Daily check-in reward
CREDITS_SHARE_VIDEO=10  # Share video reward

# Credit Packages (credits:price in RMB)
# trial: 500 credits = ¥50
# standard: 1100 credits = ¥100
# value: 6000 credits = ¥500
# premium: 13000 credits = ¥1000

# Frontend URL (for redirects and CORS)
FRONTEND_URL=https://yourdomain.com